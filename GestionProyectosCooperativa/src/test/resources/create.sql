create table COLABORADORES (ID bigint not null, E_MAIL varchar(320), USUARIO_CREACION varchar(255), FECHA_CREACION timestamp, CODIGO_POSTAL varchar(5), COMUNIDAD_AUTONOMA varchar(255), DIRECCION varchar(60), PAIS varchar(30), POBLACION varchar(60), PROVINCIA varchar(255), IDENTIFICACION varchar(9) not null, USUARIO_ULTIMA_MODIFICACION varchar(255), FECHA_ULTIMA_MODIFICACION timestamp, TELEFONO varchar(15), TELEFONO_MOVIL varchar(15), VERSION integer, ACTIVO boolean not null, APELLIDOS_USUARIO varchar(45) not null, E_MAIL_ASOCIACION varchar(200), FECHA_NACIMIENTO date, FOTOGRAFIA blob, NOMBRE_USUARIO varchar(15) not null, PASSWORD varchar(15), SEXO varchar(255), TELEFONO_ASOCIACION varchar(15), TELEFONO_MOVIL_ASOCIACION varchar(15), USER_NAME varchar(15), ELIMINADO boolean not null, ID_ENTIDAD bigint not null, primary key (ID))
create table CONTRATOS (ID_TRABAJADOR bigint not null, USUARIO_CREACION varchar(255), FECHA_CREACION timestamp, FECHA_FIN date, FECHA_INICIO date not null, USUARIO_ULTIMA_MODIFICACION varchar(255), FECHA_ULTIMA_MODIFICACION timestamp, TIPO_CONTRATO varchar(255) not null, VERSION integer, primary key (ID_TRABAJADOR))
create table ENTIDADES (ID bigint not null, E_MAIL varchar(320), USUARIO_CREACION varchar(255), FECHA_CREACION timestamp, CODIGO_POSTAL varchar(5), COMUNIDAD_AUTONOMA varchar(255), DIRECCION varchar(60), PAIS varchar(30), POBLACION varchar(60), PROVINCIA varchar(255), IDENTIFICACION varchar(9) not null, USUARIO_ULTIMA_MODIFICACION varchar(255), FECHA_ULTIMA_MODIFICACION timestamp, TELEFONO varchar(15), TELEFONO_MOVIL varchar(15), VERSION integer, E_MAIL_PERSONA_CONTACTO varchar(320), ELIMINADO boolean not null, NOMBRE_ENTIDAD varchar(60) not null, NOMBRE_PERSONA_CONTACTO varchar(60), PAGINA_WEB varchar(200), TELEFONO_MOVIL_PERSONA_CONTACTO varchar(15), TELEFONO_PERSONA_CONTACTO varchar(15), primary key (ID))
create table INCIDENCIAS (ID bigint generated by default as identity, USUARIO_CREACION varchar(255), FECHA_CREACION timestamp, DESCRIPCION varchar(500) not null, FECHA_Y_HORA timestamp not null, USUARIO_ULTIMA_MODIFICACION varchar(255), FECHA_ULTIMA_MODIFICACION timestamp, VERSION integer, ID_PROYECTO bigint not null, ID_USUARIO bigint not null, primary key (ID))
create table PROYECTOS (ID bigint generated by default as identity, BALANCE clob, USUARIO_CREACION varchar(255), FECHA_CREACION timestamp, DESCRIPCION varchar(255) not null, ESTADO_PROYECTO varchar(255) not null, FECHA_FIN date not null, FECHA_INICIO date not null, USUARIO_ULTIMA_MODIFICACION varchar(255), FECHA_ULTIMA_MODIFICACION timestamp, NOMBRE varchar(60) not null, PRESUPUESTO decimal(8,2) not null, VERSION integer, ID_ENTIDAD_CLIENTE bigint not null, primary key (ID))
create table PROYECTOS_COLABORAN_ENTIDADES (ID_PROYECTO bigint not null, ID_ENTIDAD bigint not null, primary key (ID_PROYECTO, ID_ENTIDAD))
create table PROYECTOS_COORDINAN_SOCIOS (ID_PROYECTO bigint not null, ID_SOCIO bigint not null, primary key (ID_PROYECTO, ID_SOCIO))
create table PROYECTOS_PARTICIPAN_USUARIOS (ID_PROYECTO bigint not null, ID_USUARIO bigint not null, primary key (ID_PROYECTO, ID_USUARIO))
create table SOCIOS (ID bigint not null, E_MAIL varchar(320), USUARIO_CREACION varchar(255), FECHA_CREACION timestamp, CODIGO_POSTAL varchar(5), COMUNIDAD_AUTONOMA varchar(255), DIRECCION varchar(60), PAIS varchar(30), POBLACION varchar(60), PROVINCIA varchar(255), IDENTIFICACION varchar(9) not null, USUARIO_ULTIMA_MODIFICACION varchar(255), FECHA_ULTIMA_MODIFICACION timestamp, TELEFONO varchar(15), TELEFONO_MOVIL varchar(15), VERSION integer, ACTIVO boolean not null, APELLIDOS_USUARIO varchar(45) not null, E_MAIL_ASOCIACION varchar(200), FECHA_NACIMIENTO date, FOTOGRAFIA blob, NOMBRE_USUARIO varchar(15) not null, PASSWORD varchar(15), SEXO varchar(255), TELEFONO_ASOCIACION varchar(15), TELEFONO_MOVIL_ASOCIACION varchar(15), USER_NAME varchar(15), ELIMINADO boolean not null, primary key (ID))
create table TAREAS (ID bigint generated by default as identity, USUARIO_CREACION varchar(255), FECHA_CREACION timestamp, DESCRIPCION varchar(255) not null, ESTADO_TAREA varchar(255) not null, FECHA_FIN date, FECHA_INICIO date not null, USUARIO_ULTIMA_MODIFICACION varchar(255), FECHA_ULTIMA_MODIFICACION timestamp, VERSION integer, ID_PROYECTO bigint not null, primary key (ID))
create table TRABAJADORES (ID bigint not null, E_MAIL varchar(320), USUARIO_CREACION varchar(255), FECHA_CREACION timestamp, CODIGO_POSTAL varchar(5), COMUNIDAD_AUTONOMA varchar(255), DIRECCION varchar(60), PAIS varchar(30), POBLACION varchar(60), PROVINCIA varchar(255), IDENTIFICACION varchar(9) not null, USUARIO_ULTIMA_MODIFICACION varchar(255), FECHA_ULTIMA_MODIFICACION timestamp, TELEFONO varchar(15), TELEFONO_MOVIL varchar(15), VERSION integer, ACTIVO boolean not null, APELLIDOS_USUARIO varchar(45) not null, E_MAIL_ASOCIACION varchar(200), FECHA_NACIMIENTO date, FOTOGRAFIA blob, NOMBRE_USUARIO varchar(15) not null, PASSWORD varchar(15), SEXO varchar(255), TELEFONO_ASOCIACION varchar(15), TELEFONO_MOVIL_ASOCIACION varchar(15), USER_NAME varchar(15), CATEGORIA_PROFESIONAL varchar(30), ELIMINADO boolean not null, PROFESION varchar(30), primary key (ID))
create table USUARIOS_REALIZAN_TAREAS (ID_TAREA bigint not null, ID_USUARIO bigint not null, primary key (ID_TAREA, ID_USUARIO))
alter table COLABORADORES add constraint UK_mbv8859o60ihwt483nvhvjfas  unique (IDENTIFICACION)
alter table COLABORADORES add constraint UK_10pi7luabtdy3jxi0vdow8nij  unique (E_MAIL_ASOCIACION)
alter table COLABORADORES add constraint UK_foe6les7xsw7fftt80h6bnowp  unique (USER_NAME)
create index COLABORADORESUK_p8kmhcom8ovcn1v37r4mt4rso on COLABORADORES (APELLIDOS_USUARIO, NOMBRE_USUARIO)
alter table ENTIDADES add constraint UK_cwh5tnd4y3mkw0mfnjrc345vo  unique (IDENTIFICACION)
alter table ENTIDADES add constraint UK_dhwabaf8eqwoyk3yfprbsk2af  unique (NOMBRE_ENTIDAD)
alter table PROYECTOS add constraint UK_qu75hkr0e43r5pr47tasqdx27  unique (NOMBRE)
alter table SOCIOS add constraint UK_sjod2j15km3gkbjuk6k5vi49  unique (IDENTIFICACION)
alter table SOCIOS add constraint UK_qvvwjv5bxckgneqtwq0n2ecuy  unique (E_MAIL_ASOCIACION)
alter table SOCIOS add constraint UK_r9nobsorjk337a7c4ribbud3a  unique (USER_NAME)
create index SOCIOSUK_p8kmhcom8ovcn1v37r4mt4rso on SOCIOS (APELLIDOS_USUARIO, NOMBRE_USUARIO)
alter table TRABAJADORES add constraint UK_dfn42scchk745xg89i7c4xapq  unique (IDENTIFICACION)
alter table TRABAJADORES add constraint UK_efaoxxednrhqs3uoaa9vojgci  unique (E_MAIL_ASOCIACION)
alter table TRABAJADORES add constraint UK_32ulujvq3x4e6i3aijxkpc7ix  unique (USER_NAME)
create index TRABAJADORESUK_p8kmhcom8ovcn1v37r4mt4rso on TRABAJADORES (APELLIDOS_USUARIO, NOMBRE_USUARIO)
alter table COLABORADORES add constraint FK_6y6dp8tgfi33gi12j5nh0wf5h foreign key (ID_ENTIDAD) references ENTIDADES
alter table CONTRATOS add constraint FK_m2vh7faiureuubgr84pm411xi foreign key (ID_TRABAJADOR) references TRABAJADORES
alter table INCIDENCIAS add constraint FK_1hycpjqfel0598c8msvhvuge4 foreign key (ID_PROYECTO) references PROYECTOS
alter table PROYECTOS add constraint FK_o4uhvedc2hs1rxa9wm9rjlw2i foreign key (ID_ENTIDAD_CLIENTE) references ENTIDADES
alter table PROYECTOS_COLABORAN_ENTIDADES add constraint FK_dp9j6wiq08mvtr0a0gookb938 foreign key (ID_ENTIDAD) references ENTIDADES
alter table PROYECTOS_COLABORAN_ENTIDADES add constraint FK_cfjpjkdgta2m4rykv7n30f4q4 foreign key (ID_PROYECTO) references PROYECTOS
alter table PROYECTOS_COORDINAN_SOCIOS add constraint FK_nk8x4hk6f1u85nf6l94r0uduh foreign key (ID_SOCIO) references SOCIOS
alter table PROYECTOS_COORDINAN_SOCIOS add constraint FK_cebidd3onfocaaydpvv27voac foreign key (ID_PROYECTO) references PROYECTOS
alter table PROYECTOS_PARTICIPAN_USUARIOS add constraint FK_hq6hbtb6ir62d4isd1f6f8iyl foreign key (ID_PROYECTO) references PROYECTOS
alter table TAREAS add constraint FK_950urfyjp6f7t0u81r5wev3ew foreign key (ID_PROYECTO) references PROYECTOS
alter table USUARIOS_REALIZAN_TAREAS add constraint FK_pp0r290ohmxomiujnqg521vem foreign key (ID_TAREA) references TAREAS
create table ID_GEN ( GEN_NAME varchar(255) not null , GEN_VAL bigint, primary key ( GEN_NAME ) )
